(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{244:function(t,e,n){"use strict";function r(t,e,n){var r=document.querySelector(t),o=r.classList;return o.remove(e),o.add("fa-pulse"),o.add("fa-spinner"),n.$nuxt.$loading.start(),r}function o(t,e,n){var r=document.querySelector(t),o=r.classList;return o.add(e),o.remove("fa-pulse"),o.remove("fa-spinner"),n.$nuxt.$loading.finish(),r}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}))},249:function(t,e,n){"use strict";n.r(e);n(17),n(18),n(9),n(69),n(234),n(21);var r=n(3),o=n(23),l=n(33),c=n(31),d=n(32),f=n(19),h=n(8),v=n(4),m=n(244);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},C=function(t){Object(c.a)(h,t);var e,n,d,f=y(h);function h(){var t;return Object(o.a)(this,h),(t=f.apply(this,arguments)).model={self:"",errors:"",saving:!1,id:0},t.loading=!0,t.data=[],t}return Object(l.a)(h,[{key:"loadData",value:(d=Object(r.a)(regeneratorRuntime.mark((function t(){var path,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.$loading.start(),path="categories"===this.path?this.path:"root/".concat(this.path),t.next=4,this.$axios.$get(path);case 4:if(e=t.sent,this.loading=!1,this.$nuxt.$loading.finish(),e){t.next=10;break}return this.$nf.error(),t.abrupt("return");case 10:this.data=e;case 11:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"remove",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(m.b)("#del".concat(e),"fa-trash-alt",this),t.next=3,this.$axios.$delete("root/".concat(this.path,"/").concat(e));case 3:t.sent,Object(m.a)("#del".concat(e),"fa-trash-alt",this),this.data.splice(n,1);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"openModal",value:function(){var title=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.model.self=title,this.model.id=t,this.model.errors="",new Modal(document.querySelector("#".concat(this.path,"Modal"))).show()}},{key:"closeModal",value:function(){new Modal(document.querySelector("#".concat(this.path,"Modal"))).hide()}},{key:"saveModel",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,path,n,r,o,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.model.self.length){t.next=3;break}return this.model.errors="a",t.abrupt("return");case 3:return this.model.saving=!0,e=this.model.id>0||this.model.id.length,path=e?"root/".concat(this.path,"/").concat(this.model.id):"root/".concat(this.path),n=e?"$patch":"$post",t.next=9,this.$axios[n](path,{title:this.model.self});case 9:if(r=t.sent,this.model.saving=!1,r&&r.id){t.next=14;break}return this.$nf.error(),t.abrupt("return");case 14:this.model.errors="",e?(o=this.data.findIndex((function(t){return t[l.routeKey]===l.model.id})),this.data[o].title=r.title):this.data.push(r),this.closeModal();case 17:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"mounted",value:function(){var t=this;this.$nextTick((function(){t.loadData()}))}},{key:"title",get:function(){return this.$i18n.t("admin.title."+this.path)}}]),h}(v.d);_([Object(v.b)({type:String,required:!0})],C.prototype,"path",void 0),_([Object(v.b)({type:String,default:"id"})],C.prototype,"routeKey",void 0),_([Object(v.c)("form")],C.prototype,"form",void 0);var x=C=_([Object(v.a)({head:function(){return{title:this.title||""}}})],C),j=n(22),component=Object(j.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"text-center"},[n("i",{staticClass:"fas fa-pulse fa-spinner fa-3x mt-5"})]):n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-warning",on:{click:function(e){return e.preventDefault(),t.openModal()}}},[t._v("\n                    Create New Entry\n                ")]),t._v(" "),n("hr",{staticClass:"bg-secondary pt-1 w-75 rounded"})])]),t._v(" "),t.data.length?t._e():n("div",{staticClass:"row"},[t._m(0)]),t._v(" "),t._l(t.data,(function(e,r){return n("div",{key:e.id,staticClass:"row mb-3"},[n("div",{staticClass:"col-5"},[n("span",{staticClass:"btn btn-primary"},[t._v("\n                    "+t._s(e.title)+"\n                    "),n("span",{staticClass:"badge badge-light"},[t._v("\n                        "+t._s(e.posts_count||0)+"\n                    ")]),t._v(" "),"tags"===t.path?n("span",{staticClass:"badge badge-dark"},[t._v("\n                        "+t._s(e.projects_count||0)+"\n                    ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-7 text-right"},[n("button",{staticClass:"btn btn-info",on:{click:function(n){return n.preventDefault(),t.openModal(e.title,e[t.routeKey])}}},[n("i",{staticClass:"fas fa-edit mx-1"})]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return n.preventDefault(),t.remove(e[t.routeKey],r)}}},[n("i",{staticClass:"fas fa-trash-alt mx-1",attrs:{id:"del"+e[t.routeKey]}})])])])}))],2),t._v(" "),n("div",{staticClass:"modal fade",attrs:{id:t.path+"Modal",tabindex:"-1",role:"dialog","aria-labelledby":t.path+"ModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content bg-dark"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:t.path+"ModalLabel"}},[t._v("\n                        "+t._s(t.model.self||"Create new Tag")+"\n                    ")]),t._v(" "),t._m(1)]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",{ref:"form",staticClass:"form",attrs:{method:"post"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveModel(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.self,expression:"model.self"}],staticClass:"form-control",class:{"is-invalid":t.model.errors.length},attrs:{type:"text",name:"title",id:"title",placeholder:"tag title","aria-describedby":"helpId",minlength:"3",maxlength:"255"},domProps:{value:t.model.self},on:{input:function(e){e.target.composing||t.$set(t.model,"self",e.target.value)}}}),t._v(" "),n("small",{staticClass:"text-muted",attrs:{id:"helpId"}},[t._v("\n                                enter tag title\n                            ")]),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v("\n                                "+t._s(t.model.errors)+"\n                            ")])])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n                        Close\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.model.saving},on:{click:function(e){return e.preventDefault(),t.saveModel(e)}}},[n("i",{staticClass:"mx-1 fas",class:t.model.saving?"fa-pulse fa-spinner":"fa-save"}),t._v("\n                        Save changes\n                    ")])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-danger col-10 mx-auto"},[e("strong",[this._v("No data, please add new Entry")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])}],!1,null,null,null);e.default=component.exports},341:function(t,e,n){"use strict";n.r(e);n(17),n(18),n(9),n(69);var r=n(23),o=n(31),l=n(32),c=n(19),d=n(8),f=n(4),h=n(249);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},y=function(t){Object(o.a)(n,t);var e=v(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(f.d),_=y=m([Object(f.a)({components:{ModelCtrl:h.default}})],y),C=n(22),component=Object(C.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("model-ctrl",{attrs:{path:"tags"}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ModelCtrl:n(249).default})}}]);